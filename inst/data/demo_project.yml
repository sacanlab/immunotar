# Configuration may contain a single 'dataset' entry, or a 'datasets' containing a list of them.
# A dataset can contain these attributes (and any option that data_summarize() function accepts):
# datafile, summarytype.
# The datafile may contain {datadir} are {userdatadir}, which are replaced with myconfig('datadir'), etc.
# File names (unless they already exist in the cwd) are adjusted relative to the folder containing this yml file.

#You can import other yaml files into this project. See demo_project_withincludes.yml for an example.
#importfile: '{datadir}/project_defaultparams.yml'

#outfile: 'demo_project_result.xlsx'
knowntargets: 'ALK,MEGF10'
XXXdataset:
  datafile: 'demo_experiment.xlsx'
  handlenan: 0 #replace NA's with a value. default is 'none', which leaves NA's as is. see data_handlenan() for options.
  rescale: 'log2,percentile' #see data_rescale() for options.
  #summarytypes: 'mean,numlowexpressed' #by default, we summarize a dataset. To prevent data summarization, use summarytypes='', or define dosummarize=0


#If you would like to use multiple datasets, create a list of them (instead of the above single "dataset").
datasets:  #Remove "XXX" if you neeed to specify multiple datasets.
  - datafile: 'demo_experiment.xlsx'
    handlenan: 0
    summaryprefix: 'expr_1_'
  - datafile: 'demo_experiment2.xlsx'
    handlenan: 'none'
    summaryprefix: 'expr_2_'

#This function will be applied after a dataset is loaded (and before any handlenan/enrich/scale processing is done.)
#The function definition should already be available in R before you run this project.
#You can provide separate applyfunction's to each dataset by setting their own applyfunction.
dataset_applyfunction: 'dataset_applyfunction_sample'

enrich: #parameters to be passed into data_enrich()
  enrichtypes: 'gtex,evodevo_pediatric,healthyprot,depmap,compartments_sp,cirfess_spc'  #by default, we use data_enrich. If you do not want to use enrich, define doenrich=0 as a top level attribute, or define enrich.enrichtypes=''
  #some enrich types require additional arguments. provide them here.
  depmapids: 'Rhabdomyosarcoma' #this can be numeric id(s) or text(s) to search
  #goids: 'Notch binding'
  #go_collate: 'merge' #separate|merge determines whether we create separate columns for each goid.

handlenan: 0   #change default handlenan. (default is 'none')
colhandlenan: #specify handlenan for individual columns
  gtex: 0
  depmap: 0
  expr: 'min'

rescale: 'percentile' #change default scale. (default is 'percentile')
#colscale: #specify scale for individual columns
 # gtex: 'percentile' #linearly scales min..max to 0..100
  #go: 'none'

weight: -1 #Set the default weight. If you set this, remember to override this default value for columns that should have an opposite signed weight.
colweight: #specify weight for individual columns
  gtex: "-1 each" #will be divided by the number of gtex_ columns.
  evodevo: "-1 each"
  healthyprot: -1
  depmap: +1
  compartments_sp: +1
  cirfess_spc: +1
  expr: "+1 each"
  expr_numlowexpressed: -1


#coloptions: #Options may also be organized for each column. These will only be effective if the same option is not specified in one of the colXXX option groups (e.g., colscale, colweight, etc.)
  #gtex:
    #scale: 'percentile' #if both colscale.gtex and coloptions.gtex.scale are provided, colscale.gtex is used and coloptions.gtex.scale is ignored.
    #weight: 0.5
